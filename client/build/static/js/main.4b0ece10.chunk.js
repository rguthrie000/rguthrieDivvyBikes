(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(78)},36:function(e,t,n){},54:function(e,t,n){},7:function(e,t){var n=[15836544e5,1604214e6];e.exports={getTimeStr:function(){var e=Date.now();e<n[0]?e-=216e5:e<n[1]&&(e-=18e6);var t=new Date(e);return(t=t.toUTCString()).slice(0,25)+" CT"},getTimeFlags:function(e){var t=e.split(" "),n=!1;switch(t[0]){case"Mon,":case"Tue,":case"Wed,":case"Thu,":case"Fri,":n=!0;break;case"Sat,":case"Sun,":n=!1}var a=t[4].split(":")[0],i=!1,o=!1,r=!1;return a<5?r=!0:a<12?i=!0:a<19?o=!0:r=!0,{isWeekday:n,isMorning:i,isAfternoon:o,isEvening:r}},makeLocalTime:function(e,t){var n={},a=new Date(1e3*(e+t)).toUTCString().split(" ");switch(n.year=a[3],n.monthNameShort=a[2],a[2]){case"Jan":n.month=1,n.monthName="January";break;case"Feb":n.month=2,n.monthName="February";break;case"Mar":n.month=3,n.monthName="March";break;case"Apr":n.month=4,n.monthName="April";break;case"May":n.month=5,n.monthName="May";break;case"Jun":n.month=6,n.monthName="June";break;case"Jul":n.month=7,n.monthName="July";break;case"Aug":n.month=8,n.monthName="August";break;case"Sep":n.month=9,n.monthName="September";break;case"Oct":n.month=10,n.monthName="October";break;case"Nov":n.month=11,n.monthName="November";break;case"Dec":n.month=12,n.monthName="December"}switch(n.dayOfMonth=a[1],a[0]){case"Mon,":n.dayOfWeek="Monday";break;case"Tue,":n.dayOfWeek="Tuesday";break;case"Wed,":n.dayOfWeek="Wednesday";break;case"Thu,":n.dayOfWeek="Thursday";break;case"Fri,":n.dayOfWeek="Friday";break;case"Sat,":n.dayOfWeek="Saturday";break;case"Sun,":n.dayOfWeek="Sunday"}var i=a[4].split(":");return n.hour=i[0],n.minute=i[1],n.second=i[2],n}}},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(5),r=n.n(o),s=(n(36),n(2)),c=n(3),l=n(4),m=n(6),d=n.n(m);var u={getStations:function(e){d.a.get("/api/stations").then(function(t){var n=[];t.data.forEach(function(e){n.push({stationId:e.stationId,stationName:e.stationName,docks:e.docks,stationLat:e.stationLat,stationLon:e.stationLon})}),e(n)}).catch(function(e){return console.log(e)})},getTrips:function(){d.a.post("/api/trips",{}).then(function(){})}},h={latLo:41.736646,latHi:42.064854,lonLo:-87.774704,lonHi:-87.549386},f={randLat:function(){return h.latLo+Math.random()*(h.latHi-h.latLo)},randLon:function(){return h.lonLo+Math.random()*(h.lonHi-h.lonLo)},divvyLimits:function(){return h},findClosestStation:function(e,t,n){for(var a=n.map(function(n){return Math.pow(n.stationLat-e,2)+Math.pow(n.stationLon-t,2)}),i=1e6,o=-1,r=0;r<a.length;r++)a[r]<i&&(o=r,i=a[r]);return{minIndex:o,minDist:i=Math.sqrt(i)*(Math.PI/180)*3957.66}}};n(54);var p=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h6",{id:"timedate"},e.timeAndDate),i.a.createElement("h6",{id:"timecat"},e.isWeekday?"weekday":"weekend",", ",e.partOfDay),i.a.createElement("div",{id:"search-box"},i.a.createElement("div",null,i.a.createElement("div",{id:"button-random"},i.a.createElement("button",{className:"btn btn-primary button-search",onClick:e.whereAmI},"random")),i.a.createElement("div",{id:"position-lat",className:"number-box",value:e.title,name:"position-lat",type:"text",placeholder:e.lat,onChange:e.handleFormChange}),i.a.createElement("div",{id:"position-lon",className:"number-box",value:e.author,name:"position-lon",type:"text",placeholder:e.lon,onChange:e.handleFormChange})),i.a.createElement("p",{id:"minDistance"},e.minStationDist," miles to:"),i.a.createElement("div",null,i.a.createElement("div",{id:"start-station-id"}),i.a.createElement("div",{id:"start-station",className:"number-box",value:e.subject,name:"start-station",type:"text",placeholder:e.startStation+e.startName,onChange:e.handleFormChange})),i.a.createElement("div",null,i.a.createElement("div",{id:"end-station-id"}),i.a.createElement("input",{id:"end-station",className:"form-input",value:e.subject,name:"end-station",type:"text",placeholder:e.endStation+e.endName,onChange:e.handleFormChange}))),i.a.createElement("div",{id:"radio-box-time"},i.a.createElement("p",null,"Use day and time?"),i.a.createElement("div",{className:"form-check-inline"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"useTime",value:"yes",className:"form-check-input",checked:e.useTime,onChange:e.handleRadio}),"yes")),i.a.createElement("div",{className:"form-check-inline"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"useTime",value:"no",className:"form-check-input",checked:!e.useTime,onChange:e.handleRadio}),"no"))),i.a.createElement("div",{id:"radio-box-profile"},i.a.createElement("p",null,"Use user profile?"),i.a.createElement("div",{className:"form-check-inline"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"useProfile",value:"yes",className:"form-check-input",checked:e.useProfile,onChange:e.handleRadio}),"yes")),i.a.createElement("div",{className:"form-check-inline"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"useProfile",value:"no",className:"form-check-input",checked:!e.useProfile,onChange:e.handleRadio}),"no"))))},v=n(25),g=n(26),b=n(29),k=n(27),y=n(30),E=n(28),N=n.n(E),w=(n(76),function(e){var t=e.text;return i.a.createElement("div",{style:{color:"white",background:"grey",padding:"15px 10px",display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",borderRadius:"100%",transform:"translate(-50%, -50%)"}},t)}),S=function(e){function t(){return Object(v.a)(this,t),Object(b.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return i.a.createElement(N.a,{bootstrapURLKeys:{key:"AIzaSyAcAthdRfN4aH4z75JtzKI3UXDFZxmw_V4"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},i.a.createElement(w,{lat:41.876511229,lng:-87.62054801,text:"Buckingham Fountain"}))}}]),t}(i.a.Component);S.defaultProps={center:{lat:41.90075,lng:-87.662045},zoom:10};var x=n(7);n(77);var O=function(){var e=Object(a.useState)({populated:0,startIndex:0,endIndex:1,list:[],latitude:f.randLat(),longitude:f.randLon(),minStationDist:0}),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)({useTime:!1,useProfile:!1}),m=Object(l.a)(r,2),d=m[0],h=m[1],v=Object(a.useState)({timeStr:"",isWeekday:0,isMorning:0,isAfternoon:0,isEvening:0}),g=Object(l.a)(v,2),b=g[0],k=g[1];function y(e){var t=f.findClosestStation(n.latitude,n.longitude,e);o(Object(c.a)({},n,{populated:n.populated+1,list:e,minStationDist:t.minDist,startIndex:t.minIndex}))}function E(){var e=Object(x.getTimeStr)(),t=Object(x.getTimeFlags)(e);k({timeStr:e,isWeekday:t.isWeekday,isMorning:t.isMorning,isAfternoon:t.isAfternoon,isEvening:t.isEvening})}return Object(a.useEffect)(function(){n.list.length||(setInterval(E,1e3),u.getStations(y))},[]),i.a.createElement("div",{className:"container AppBar"},i.a.createElement("div",{className:"row AppBar-header"},i.a.createElement("div",{id:"nameBox"},i.a.createElement("h5",null,"rguthrie's"),i.a.createElement("h4",null,"Divvy Bikes Planner")),i.a.createElement("h1",{className:"AppBar-title"},"Bike Chicago!")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("div",{className:"row info-card"},i.a.createElement(p,{timeAndDate:b.timeStr,isWeekday:b.isWeekday,partOfDay:b.isMorning?"morning":b.isEvening?"evening":"afternoon",lat:n.latitude.toPrecision(8),lon:n.longitude.toPrecision(8),startStation:n.populated?n.list[n.startIndex].stationId:"",startName:n.populated?n.list[n.startIndex].stationName:"",endStation:n.populated?n.list[n.endIndex].stationId:"",endName:n.populated?n.list[n.endIndex].stationName:"",minStationDist:n.minStationDist.toPrecision(3),useTime:d.useTime,useProfile:d.useProfile,whereAmI:function(e){e.preventDefault(),function(e,t,a){var i=f.findClosestStation(e,t,a);o(Object(c.a)({},n,{latitude:e,longitude:t,minStationDist:i.minDist,startIndex:i.minIndex}))}(f.randLat(),f.randLon(),n.list)},handleRadio:function(e){e.preventDefault();var t=e.target.name,n=e.target.value;h(Object(c.a)({},d,Object(s.a)({},t,"yes"===n)))}})),i.a.createElement("div",{className:"row card"})),i.a.createElement("div",{className:"col-sm-8"})))},C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");C?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):j(e)})}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.4b0ece10.chunk.js.map